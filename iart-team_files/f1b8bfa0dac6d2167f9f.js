(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{334:function(t,e,r){"use strict";r.r(e);r(12),r(10),r(54);var n,o,l,c,h,v,d,f=r(16),_=r.n(f),w=r(2),m=r(69),k=w.u.registerPlugin(m.b)||w.u,x=r(9),y=function(){return"undefined"!=typeof window},C=function(){return n||y()&&(n=window.gsap)&&n.registerPlugin&&n},j=function(t){return"string"==typeof t},P=function(element,t){var e="x"===t?"Width":"Height",r="scroll"+e,n="client"+e;return element===l||element===c||element===h?Math.max(c[r],h[r])-(l["inner"+e]||c[n]||h[n]):element[r]-element["offset"+e]},L=function(t,e){var p="scroll"+("x"===e?"Left":"Top");return t===l&&(null!=t.pageXOffset?p="page"+e.toUpperCase()+"Offset":t=null!=c[p]?c:h),function(){return t[p]}},I=function(element,t){var rect=v(element)[0].getBoundingClientRect(),e=!t||t===l||t===h,r=e?{top:c.clientTop-(l.pageYOffset||c.scrollTop||h.scrollTop||0),left:c.clientLeft-(l.pageXOffset||c.scrollLeft||h.scrollLeft||0)}:t.getBoundingClientRect(),n={x:rect.left-r.left,y:rect.top-r.top};return!e&&t&&(n.x+=L(t,"x")(),n.y+=L(t,"y")()),n},T=function(t,e,r,n){return isNaN(t)?j(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+n:"max"===t?P(e,r):Math.min(P(e,r),I(t,e)[r]):parseFloat(t)},A=function(){n=C(),y()&&n&&document.body&&(l=window,h=document.body,c=document.documentElement,v=n.utils.toArray,n.config({autoKillThreshold:7}),d=n.config(),o=1)},S={version:"3.0.4",name:"scrollTo",rawVars:1,register:function(t){n=t,A()},init:function(t,e,r,n,c){o||A();this.isWin=t===l,this.target=t,this.tween=r,"object"!==Object(x.a)(e)?j((e={y:e}).y)&&"max"!==e.y&&"="!==e.y.charAt(1)&&(e.x=e.y):e.nodeType&&(e={y:e,x:e}),this.vars=e,this.autoKill=!!e.autoKill,this.getX=L(t,"x"),this.getY=L(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=e.x?(this.add(this,"x",this.x,T(e.x,t,"x",this.x)-(e.offsetX||0),n,c,Math.round),this._props.push("scrollTo_x")):this.skipX=1,null!=e.y?(this.add(this,"y",this.y,T(e.y,t,"y",this.y)-(e.offsetY||0),n,c,Math.round),this._props.push("scrollTo_y")):this.skipY=1},render:function(t,data){for(var e,r,n,o,c,h=data._pt,v=data.target,f=data.tween,_=data.autoKill,w=data.xPrev,m=data.yPrev,k=data.isWin;h;)h.r(t,h.d),h=h._next;e=k||!data.skipX?data.getX():w,n=(r=k||!data.skipY?data.getY():m)-m,o=e-w,c=d.autoKillThreshold,data.x<0&&(data.x=0),data.y<0&&(data.y=0),_&&(!data.skipX&&(o>c||o<-c)&&e<P(v,"x")&&(data.skipX=1),!data.skipY&&(n>c||n<-c)&&r<P(v,"y")&&(data.skipY=1),data.skipX&&data.skipY&&(f.kill(),data.vars.onAutoKill&&data.vars.onAutoKill.apply(f,data.vars.onAutoKillParams||[]))),k?l.scrollTo(data.skipX?e:data.x,data.skipY?r:data.y):(data.skipY||(v.scrollTop=data.y),data.skipX||(v.scrollLeft=data.x)),data.xPrev=data.x,data.yPrev=data.y},kill:function(t){var e="scrollTo"===t;(e||"scrollTo_x"===t)&&(this.skipX=1),(e||"scrollTo_y"===t)&&(this.skipY=1)}};S.max=P,S.getOffset=I,S.buildGetter=L,C()&&n.registerPlugin(S);r(31);var O={name:"ProjectDetail",props:{project:Object}},$=r(23),M=Object($.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("nuxt-link",{attrs:{to:{path:"work/"+t.project.slug}}},[r("h1",[t._v(t._s(t.project.title))]),t._v(" "),r("h2",[t._v(t._s(t.project.dateCreated))])])],1)}),[],!1,null,null,null).exports,V=r(0),Y=r.n(V),X=r(255),E=r.n(X),N={components:{ProjectDetail:M},props:{list:Array,activeCat:String},data:function(){return{lastDate:"",currentDate:null}},computed:{dateList:function(){var t=E.a.groupBy(this.list,(function(t){return Y()(t.opening).year()})),e={};return Object.keys(t).sort((function(a,b){return a>b?-1:a<b?1:0})).forEach((function(r){e[JSON.stringify(r)]=t[r]})),e}}},K=Object($.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"work--overview__project-list work--overview__project-list--list-view"},[t._l(t.dateList,(function(e,n,o){return[r("li",{key:o,staticClass:"list-view__header"},[r("div",{staticClass:"year"},[t._v("\n                "+t._s(t._f("moment")(JSON.parse(n),"YYYY"))+"\n            ")])]),t._v(" "),t._l(e,(function(e){return r("li",{staticClass:"list-view__item",class:{highlight:e.highlight}},[r("nuxt-link",{attrs:{to:{path:"work/"+e.slug}}},[r("div",[r("div",{staticClass:"grid-wrapper"},[r("div",{staticClass:"title"},[r("h1",[t._v(t._s(e.title))]),t._v(" "),r("h2",{staticClass:"subtitle"},[t._v(t._s(e.subtitleShort))])]),t._v(" "),e.client.length?r("div",{staticClass:"client"},[r("div",[t._v("Kunden:")]),t._v(" "),r("ul",t._l(e.client,(function(e){return r("li",[t._v(t._s(e.title))])})),0)]):t._e(),t._v(" "),e.location.length?r("div",{staticClass:"location"},[r("div",[t._v("Ort:")]),t._v(" "),r("ul",t._l(e.location,(function(e){return r("li",[t._v(t._s(e.title))])})),0)]):t._e(),t._v(" "),r("figure",[e.overviewPosterImage.length?[r("img",{attrs:{src:e.overviewPosterImage[0].url,alt:""}})]:t._e()],2)])])])],1)}))]}))],2)}),[],!1,null,null,null).exports,D=(r(38),r(43),r(88)),G={name:"project-grid-view-item",mixins:[r.n(D).a],props:{project:Object,activeCat:String},data:function(){return{playing:!1,videoPromise:"",inViewport:{now:Boolean,fully:Boolean,above:Boolean,below:Boolean}}},mounted:function(){},beforeDestroy:function(){},computed:{overviewPosterImage:function(){return this.project.overviewPosterImage[0]?this.project.overviewPosterImage[0].url:""},overviewImage:function(){return this.project.overviewImage[0]?this.project.overviewImage[0]:{}}},watch:{"inViewport.now":function(t){this.$refs.video&&(t?(this.$refs.video.play(),this.playing=!0):this.playing&&(this.$refs.video.pause(),this.playing=!1))}},methods:{}},B=Object($.a)(G,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{directives:[{name:"in-viewport",rawName:"v-in-viewport.once",modifiers:{once:!0}}]},[r("nuxt-link",{attrs:{to:{path:"work/"+t.project.slug}}},[r("div",{staticClass:"figure"},[t.overviewImage&&"video"===t.overviewImage.kind?r("div",{staticClass:"figure__desktop"},[r("video",{ref:"video",staticClass:"figure",attrs:{poster:t.overviewPosterImage,src:t.overviewImage.url,preload:"",playsinline:"",loop:"",muted:""},domProps:{muted:!0}})]):t._e(),t._v(" "),r("figure",{staticClass:"figure__mobile"},[r("img",{attrs:{src:t.overviewPosterImage}})])]),t._v(" "),r("div",{staticClass:"title"},[r("h1",[t._v(t._s(t.project.title))]),t._v(" "),r("h2",[r("span"),t._v(t._s(t.project.subtitleShort))])])])],1)}),[],!1,null,"7d58014e",null).exports,H={name:"project-grid-view-archive",data:function(){return{stepIndex:this.$store.state.work.stepIndex,stepAmount:9,labels:this.$store.state.site.labels}},props:{archiveList:Array,activeCat:String},computed:{steps:function(){return Math.ceil(this.archiveList.length/this.stepAmount)},paginatedList:function(){return this.paginateList()}},watch:{stepIndex:function(){this.paginateList()}},methods:{previous:function(){this.hasPrevStep()&&(this.stepIndex--,this.$store.commit("work/setStepIndex",this.stepIndex))},next:function(){this.hasNextStep()&&(this.stepIndex++,this.$store.commit("work/setStepIndex",this.stepIndex))},paginate:function(t){this.stepIndex=t},groupStart:function(){return 0},groupEnd:function(){return this.stepAmount>this.archiveList.length||!this.hasNextStep()?this.archiveList.length:this.stepAmount+this.stepAmount*this.stepIndex},paginateList:function(){return this.archiveList.slice(0,this.groupEnd())},hasPrevStep:function(){return this.stepIndex>0},hasNextStep:function(){return this.stepIndex<this.steps-1},activePage:function(t){return this.stepIndex===t},showMore:function(){this.next()}}},J={components:{ProjectGridViewItem:B,ProjectGridViewArchive:Object($.a)(H,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"work--overview__project-list work--overview__project-list--grid-view archive"},t._l(t.paginatedList,(function(e){return r("li",{directives:[{name:"in-viewport",rawName:"v-in-viewport.once",modifiers:{once:!0}}],staticClass:"archive-item"},[r("nuxt-link",{attrs:{to:{path:"work/"+e.slug}}},[e.overviewPosterImage.length?r("div",{staticClass:"figure"},[r("figure",[r("img",{attrs:{src:e.overviewPosterImage[0].url,alt:""}})])]):t._e(),t._v(" "),r("div",{staticClass:"title"},[r("h1",[t._v(t._s(e.title))]),t._v(" "),r("h2",[r("span"),t._v(t._s(e.subtitleShort))]),t._v(" "),t._l(e.category,(function(e){return"all"==t.activeCat?r("div",{staticClass:"cat"},[r("span",[t._v(t._s(e.title))])]):t._e()}))],2)])],1)})),0),t._v(" "),r("div",{staticClass:"archive__pagination"},[r("span",{class:{disabled:!t.hasNextStep()},on:{click:function(e){return t.showMore()}}},[t._v("\n            "+t._s(t.labels.labelShowMore?t.labels.labelShowMore:"ShowMore")+"\n        ")])])])}),[],!1,null,"6733f3c9",null).exports},props:{list:Array,activeCat:String},methods:{updateHighlights:function(){var t=this.list.filter((function(t){return t.highlight}));(t=t.sort((function(a,b){return.5-Math.random()}))).length>3&&(t=t.splice(0,3)),this.$store.commit("work/setHighlights",t),this.highlightsList=t}},watch:{activeCat:function(){this.updateHighlights()}},computed:{highlightsList:{get:function(){var t=this.$store.state.work.highlights;if(!t||!t.length>0){var e=this.list.filter((function(t){return t.highlight}));(e=e.sort((function(a,b){return.5-Math.random()}))).length>3&&(e=e.splice(0,3)),this.$store.commit("work/setHighlights",e),t=e}return t},set:function(){}},archiveList:function(){var t=this;return this.list.filter((function(e){return!t.highlightsList.includes(e)}))}}},F=Object($.a)(J,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("transition-group",{staticClass:"work--overview__project-list work--overview__project-list--grid-view hightlight",attrs:{tag:"ul",name:"fade"}},t._l(t.highlightsList,(function(e,n){return r("ProjectGridViewItem",{key:e.slug+n,class:{highlight:e.highlight},attrs:{project:e,activeCat:t.activeCat}})})),1),t._v(" "),r("ProjectGridViewArchive",{attrs:{archiveList:t.archiveList,activeCat:t.activeCat}})],1)}),[],!1,null,"454bc156",null).exports;k.registerPlugin(S);var W={head:function(){return{title:"iart - work"}},transition:{name:"fade"},components:{ProjectList:K,ProjectGridView:F},data:function(){return{list:[],filteredList:[],categories:[],activeCat:"Alle Projekte",catTitle:"Alle Projekte",catList:!1,labels:this.$store.state.site.labels}},computed:{listViewModus:function(){return this.$store.state.work.listViewModus},animation:function(){}},methods:{scrollToTop:function(){k.to(window,{duration:.3,scrollTo:0})},changeCat:function(t,title){var e=this;this.scrollToTop(),this.activeCat=t,this.filteredList=this.list.filter((function(t){return t.category.find((function(t){return t.slug===e.activeCat}))})),this.catTitle=title},showAll:function(){this.scrollToTop(),this.filteredList=this.list,this.activeCat="Alle Projekte",this.catTitle="Alle Projekte"},listView:function(){this.$store.commit("work/setListViewModus")},showCatList:function(){this.catList=!this.catList}},asyncData:function(t){var e=t.app,r=t.error;try{return _()({method:"POST",url:"https://prolog.iart.ch/api",data:{query:'{\n                          entries(section: ["work"], site : "'+e.i18n.locale+'") {\n                            ... on work_work_Entry {\n                            title\n                              coverImageVideo(limit:1) {\n                                url\n                                kind\n                              }\n                              slug\n                              subtitle\n                              subtitleShort\n                              category {\n                                title\n                                slug\n                              }\n                              client {\n                                title\n                              }\n                              location {\n                                title\n                              }\n                              overviewPosterImage(limit:1) {\n                                url @transform(handle : "extraSmall")\n                                kind\n                              }\n                              overviewImage(limit:1) {\n                                url\n                                kind\n                              }\n                              opening @formatDateTime (format: "D, d M y H:i:s O")\n                              highlight\n                            }\n                          }\n                          categories(group:["workCategory"]) {\n                            title\n                            slug\n                          }\n                        }'}}).then((function(t){var e=t.data.data.entries,r=t.data.data.entries;return{list:e,categories:t.data.data.categories,filteredList:r}}))}catch(t){r({statusCode:404,message:t})}}},R=Object($.a)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"work work--overview"},[r("div",{directives:[{name:"in-viewport",rawName:"v-in-viewport"}],attrs:{id:"cat-listview-bar"}},[r("nav",{staticClass:"categories",attrs:{id:"category-navigation"}},[r("div",{staticClass:"select-cat-toggle",class:{active:t.catList},on:{click:function(e){return t.showCatList()}}},[r("span",[t._v(t._s(t.catTitle))]),t._m(0)]),t._v(" "),r("ul",{class:{visible:t.catList}},[r("li",{staticClass:"cat"},[r("span",{class:{active:"Alle Projekte"==t.activeCat},on:{click:function(e){return t.showAll()}}},[t._v(t._s(t.labels.labelFilterAllProjects))])]),t._v(" "),t._l(t.categories,(function(e){return r("li",{staticClass:"cat"},[r("span",{class:{active:e.slug==t.activeCat},on:{click:function(r){return t.changeCat(e.slug,e.title)}}},[t._v(t._s(e.title))])])}))],2)]),t._v(" "),r("div",{staticClass:"list-toggle"},[r("div",{class:{list:t.listViewModus},on:{click:function(e){return t.listView()}}},[r("span",[t._v("Grid")]),r("span",[t._v("List")])])])]),t._v(" "),t.listViewModus?r("div",[r("transition",{attrs:{name:"fade-fast"}},[r("ProjectList",{attrs:{list:t.filteredList,activeCat:t.activeCat}})],1)],1):r("div",[r("transition",{attrs:{name:"fade-fast"}},[r("ProjectGridView",{attrs:{list:t.filteredList,activeCat:t.activeCat}})],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",[this._v("â†“")])])}],!1,null,null,null);e.default=R.exports}}]);