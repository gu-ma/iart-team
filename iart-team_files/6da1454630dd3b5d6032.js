(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{335:function(e,t,n){"use strict";n.r(t);n(12),n(10),n(19);var r=n(16),o=n.n(r),l=n(36),c=(n(55),n(21),n(68)),m=n(88),v=n.n(m),y={name:"animation-sale-employee",props:{numbersAndFacts:Object},mixins:[v.a],data:function(){return{inViewport:{now:Boolean,fully:Boolean,above:Boolean,below:Boolean},starCount:1,labels:this.$store.state.site.labels}},created:function(){for(var e="*",i=0;i<this.numbersAndFacts.numbersAndFactsBlocks.length;i++){this.numbersAndFacts.numbersAndFactsBlocks[i].note&&(this.numbersAndFacts.numbersAndFactsBlocks[i].star=e,e+="*")}},methods:{},computed:{notes:function(){var e=[],t="*";return this.numbersAndFacts.numbersAndFactsBlocks.forEach((function(n){n.note&&(e.push(t+" "+n.note),t+="*")})),e},animation:function(){this.$refs.main;var e=this.$refs.years,t=this.$refs.sales,n=this.$refs.employees,r=c.a.timeline({paused:!0}),o=this.numbersAndFacts.numbersAndFactsBlocks.map((function(e){return parseInt(e.permanentEmployees)+parseInt(e.temporaryEmployees)})).reduce((function(e,t){return e>t?e:t})),m=!0,v=!1,y=void 0;try{for(var d,_=e.entries()[Symbol.iterator]();!(m=(d=_.next()).done);m=!0){var f=Object(l.a)(d.value,2),i=f[0],data=(f[1],this.numbersAndFacts.numbersAndFactsBlocks[i]),h=parseInt(data.permanentEmployees),w=0;data.temporaryEmployees&&(w=parseInt(data.temporaryEmployees));var F=parseFloat(h)/o*100*.7,A=parseFloat(w)/o*100*.7,C=n[i].querySelector(".bar"),E=n[i].querySelector(".bar-second"),B=n[i].querySelector(".bar-info");r.to(C,1,{width:F+"%",opacity:1},"-=.9"),r.to(E,1,{width:A+"%",opacity:1},"-=1"),r.to(B,1,{opacity:1},"-=1")}}catch(e){v=!0,y=e}finally{try{m||null==_.return||_.return()}finally{if(v)throw y}}var k=this.numbersAndFacts.numbersAndFactsBlocks.map((function(e){return parseFloat(e.sales)})).reduce((function(e,t){return e>t?e:t})),x=!0,T=!1,S=void 0;try{for(var I,O=e.entries()[Symbol.iterator]();!(x=(I=O.next()).done);x=!0){var $=Object(l.a)(I.value,2),P=$[0],j=($[1],this.numbersAndFacts.numbersAndFactsBlocks[P].sales);if(j){var L=parseFloat(j)/k*100*.7,Y=t[P].querySelector(".bar"),V=t[P].querySelector(".bar-info");r.to(Y,1,{width:L+"%",opacity:1},"-=.9"),r.to(V,1,{opacity:1},"-=1")}}}catch(e){T=!0,S=e}finally{try{x||null==O.return||O.return()}finally{if(T)throw S}}return r}},watch:{"inViewport.now":function(e){e&&this.animation.play()}}},d=n(23),_=Object(d.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"in-viewport",rawName:"v-in-viewport"}],ref:"main",staticClass:"animation-sale-employee"},[n("div",{staticClass:"animation-sale-employee__header"},[n("div",[n("h3",[e._v(e._s(e.labels.labelPersonal))]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.labels.labelPersonalLegend)}})]),e._v(" "),n("div",[n("h3",[e._v(e._s(e.labels.labelYear))])]),e._v(" "),n("div",[n("h3",[e._v(e._s(e.labels.labelEconomicInformation))]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.labels.labelEconomicInformationLegend)}},[e._v("Umsatz in Millionen CHF")])])]),e._v(" "),n("div",{staticClass:"animation-sale-employee__content"},[n("div",{staticClass:"animation-sale-employee__employees"},e._l(e.numbersAndFacts.numbersAndFactsBlocks,(function(t,r){return n("div",{key:r,ref:"employees",refInFor:!0,staticClass:"bar-item"},[n("span",{staticClass:"bar-info-second"},[e._v(e._s(t.temporaryEmployees))]),e._v(" "),n("span",{staticClass:"bar-second"}),e._v(" "),n("span",{staticClass:"bar-info"},[e._v(" "+e._s(t.permanentEmployees))]),e._v(" "),n("span",{staticClass:"bar"})])})),0),e._v(" "),n("div",{staticClass:"animation-sale-employee__year"},e._l(e.numbersAndFacts.numbersAndFactsBlocks,(function(t,r){return n("div",{key:r,ref:"years",refInFor:!0},[t.note?n("span",{staticClass:"star"},[e._v("\n                    "+e._s(t.star)+"\n                ")]):e._e(),e._v("\n                "+e._s(t.year)+"\n            ")])})),0),e._v(" "),n("div",{staticClass:"animation-sale-employee__sales"},e._l(e.numbersAndFacts.numbersAndFactsBlocks,(function(t,r){return n("div",{key:r,ref:"sales",refInFor:!0,staticClass:"bar-item"},[n("span",{staticClass:"bar"}),e._v(" "),n("span",{staticClass:"bar-info"},[e._v(e._s(t.sales))])])})),0)]),e._v(" "),n("div",{staticClass:"animation-sale-employee__notes"},e._l(e.notes,(function(t){return t?n("div",[e._v("\n            "+e._s(t)+"\n        ")]):e._e()})),0)])}),[],!1,null,null,null).exports,f={name:"animation-year-overview",props:{list:Array},data:function(){return{inViewport:{now:Boolean,fully:Boolean,above:Boolean,below:Boolean},labels:this.$store.state.site.labels}},mixins:[v.a],mounted:function(){},computed:{totalTemporaryEmployees:function(){return this.calculateTotal("temporaryEmployees")},totalPermanentEmployees:function(){return this.calculateTotal("permanentEmployees")},animation:function(){var e=this.$refs.employees,t=c.a.timeline({paused:!0}),n=this.totalTemporaryEmployees+this.totalPermanentEmployees,r=!0,o=!1,m=void 0;try{for(var v,y=this.list.entries()[Symbol.iterator]();!(r=(v=y.next()).done);r=!0){var d=Object(l.a)(v.value,2),i=d[0],data=(d[1],this.list[i]),_=parseInt(data.permanentEmployees),f=0;data.temporaryEmployees&&(f=parseInt(data.temporaryEmployees));var h=parseFloat(_)/n*100*.7,w=parseFloat(f)/n*100*.7,F=e[i].querySelector(".bar"),A=e[i].querySelector(".bar-second"),C=e[i].querySelector(".bar-info");t.to(F,1,{width:h+"%",opacity:1},"-=.9"),t.to(A,1,{width:w+"%",opacity:1},"-=1"),t.to(C,1,{opacity:1},"-=1")}}catch(e){o=!0,m=e}finally{try{r||null==y.return||y.return()}finally{if(o)throw m}}var E=this.$refs.total,B=E.querySelector(".bar"),k=E.querySelector(".bar-second"),x=E.querySelector(".bar-info"),T=parseFloat(this.totalTemporaryEmployees)/n*100*.7,S=parseFloat(this.totalPermanentEmployees)/n*100*.7;return t.to(B,1,{width:S+"%",opacity:1},"-=.9"),t.to(k,1,{width:T+"%",opacity:1},"-=.9"),t.to(x,1,{opacity:1},"-=1"),t}},methods:{calculateTotal:function(e){return this.list.map((function(t){return t[e]?t[e]:0})).reduce((function(e,t){var n=t||0;return parseInt(e)+parseInt(n)}))}},watch:{"inViewport.fully":function(e){e&&this.animation.play()}}},h={head:function(){return{title:"iart - "+this.numbersAndFacts.title.toLowerCase()}},components:{AnimationSaleEmployee:_,AnimationYearOverview:Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"in-viewport",rawName:"v-in-viewport"}],staticClass:"animation-year-overview"},[n("div",{staticClass:"animation-year-overview__header"},[n("h3",[e._v("\n            "+e._s(e.labels.labelPersonalEconomicInformation2019Title)+"\n        ")]),e._v(" "),n("h3")]),e._v(" "),n("div",{staticClass:"animation-year-overview__content"},e._l(e.list,(function(t){return n("div",{ref:"employees",refInFor:!0,staticClass:"animation-year-overview__item"},[n("div",[n("span",{staticClass:"bar-item"},[n("span",{staticClass:"bar-info-second"},[e._v("\n                        "+e._s(t.temporaryEmployees)+"\n                    ")]),e._v(" "),n("span",{staticClass:"bar-second"}),e._v(" "),n("span",{staticClass:"bar-info"},[e._v("\n                        "+e._s(t.permanentEmployees)+"\n                    ")]),e._v(" "),n("span",{staticClass:"bar"})])]),e._v(" "),n("div",[e._v("\n                "+e._s(t.area)+"\n            ")])])})),0),e._v(" "),n("div",{staticClass:"animation-year-overview__footer"},[n("div",{staticClass:"animation-year-overview__item"},[n("div",{ref:"total"},[n("span",{staticClass:"bar-item"},[n("span",{staticClass:"bar-info-second"},[e._v("\n                        "+e._s(e.totalTemporaryEmployees)+"\n                    ")]),e._v(" "),n("span",{staticClass:"bar-second"}),e._v(" "),n("span",{staticClass:"bar-info"},[e._v("\n                        "+e._s(e.totalPermanentEmployees)+"\n                    ")]),e._v(" "),n("span",{staticClass:"bar"})])]),e._v(" "),e._m(0)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("b",[this._v("Total")])])}],!1,null,null,null).exports},computed:{},data:function(){return{numbersAndFacts:[],inViewport:{now:Boolean,fully:Boolean,above:Boolean,below:Boolean}}},asyncData:function(e){var t,n,r;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.app,l.next=3,regeneratorRuntime.awrap(o()({method:"POST",url:"https://prolog.iart.ch/api",data:{query:'{\n                  entries(section: ["numbersAndFacts"], site : "'+t.i18n.locale+'") {\n                      title\n                      ... on numbersAndFacts_numbersAndFacts_Entry {\n\n                      numbersAndFactsBlocks {\n                          ... on numbersAndFactsBlocks_year_BlockType {\n                          year\n                          sales\n                          permanentEmployees\n                          temporaryEmployees\n                          note\n                          }\n                      }\n                      employeeYearOverviewBlocks {\n                          ... on employeeYearOverviewBlocks_item_BlockType {\n                          area\n                          permanentEmployees\n                          temporaryEmployees\n                          }\n                      }\n                      textBlock {\n                          ... on textBlock_titleAndText_BlockType {\n                          textBlockTitle\n                          text\n                          }\n                      }\n                      }\n                  }\n              }'}}));case 3:return n=l.sent,r=n.data.data.entries[0],l.abrupt("return",{numbersAndFacts:r});case 6:case"end":return l.stop()}}))}},w=Object(d.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"about about--numbers-facts"},[n("h1",{staticClass:"section-title"},[e._v(e._s(e.numbersAndFacts.title))]),e._v(" "),n("AnimationSaleEmployee",{attrs:{numbersAndFacts:e.numbersAndFacts}}),e._v(" "),n("AnimationYearOverview",{attrs:{list:e.numbersAndFacts.employeeYearOverviewBlocks}}),e._v(" "),e._l(e.numbersAndFacts.textBlock,(function(t){return[n("div",{directives:[{name:"in-viewport",rawName:"v-in-viewport"}],staticClass:"text"},[n("h3",[e._v(e._s(t.textBlockTitle))]),e._v(" "),n("div",{staticClass:"body",domProps:{innerHTML:e._s(t.text)}},[e._v("\n                "+e._s(t.text)+"\n            ")])])]}))],2)}),[],!1,null,null,null);t.default=w.exports}}]);